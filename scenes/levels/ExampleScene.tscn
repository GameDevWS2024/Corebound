[gd_scene load_steps=22 format=3 uid="uid://dfkwq6qwtxw25"]

[ext_resource type="PackedScene" uid="uid://clfnjh8aelj66" path="res://scenes/prefabs/Player.tscn" id="1_7owxc"]
[ext_resource type="Texture2D" uid="uid://dweeg6vbxai1c" path="res://scenes/levels/bg.png" id="1_afw7h"]
[ext_resource type="Script" path="res://scripts/EnemyManager.cs" id="1_bmkfv"]
[ext_resource type="Shader" path="res://scenes/levels/ExampleScene.gdshader" id="1_kbklw"]
[ext_resource type="Script" path="res://scripts/Map.cs" id="1_pa1ge"]
[ext_resource type="PackedScene" uid="uid://dkcg0yrtwyo0k" path="res://scenes/prefabs/PointLight.tscn" id="3_0raeo"]
[ext_resource type="Script" path="res://scripts/VisibleForAI.cs" id="6_7bcmx"]
[ext_resource type="Texture2D" uid="uid://pfxvcht6t1ge" path="res://assets/sprites/icon.svg" id="6_gtht4"]
[ext_resource type="PackedScene" uid="uid://6gwtt7kwq2p" path="res://scenes/prefabs/Ally.tscn" id="6_l8h37"]
[ext_resource type="Script" path="res://scripts/Interactable.cs" id="7_ji1nn"]
[ext_resource type="PackedScene" uid="uid://csb6x207vu85x" path="res://scenes/prefabs/copper_tree.tscn" id="7_njspg"]
[ext_resource type="Script" path="res://scripts/Removeable.cs" id="8_l3yld"]
[ext_resource type="PackedScene" uid="uid://ki7e88gvvcs" path="res://scenes/prefabs/ice_tree.tscn" id="9_tf77n"]
[ext_resource type="PackedScene" uid="uid://bgxxp0o5kdpkq" path="res://scenes/prefabs/Enemy.tscn" id="10_tv6x7"]
[ext_resource type="Script" path="res://scripts/Core.cs" id="11_wagl7"]
[ext_resource type="PackedScene" uid="uid://dktm5pdu27ai2" path="res://scenes/prefabs/Ally2.tscn" id="13_668w2"]
[ext_resource type="Script" path="res://scripts/Items/Inventory.cs" id="13_fh71d"]
[ext_resource type="Script" path="res://scenes/levels/IntroText.cs" id="14_trtui"]

[sub_resource type="ShaderMaterial" id="ShaderMaterial_8cl4m"]
shader = ExtResource("1_kbklw")

[sub_resource type="ShaderMaterial" id="ShaderMaterial_hnti7"]
shader = ExtResource("1_kbklw")

[sub_resource type="NavigationPolygon" id="NavigationPolygon_e7gay"]
vertices = PackedVector2Array(1321.11, 447, 2035.55, -313.859, 2079.14, -357.453, 1305.14, 506.547, 2095.11, -417, 2589.2, -2671.69, 2687.22, 2586.49, -387.453, -236.859, 253, 246.891, 193.453, 262.859, -762.891, 181, -778.859, 121.453, -447, -220.891, 1976, -536.109, 1916.45, -520.141, 324.109, -707, 308.141, -766.547, 2079.14, -476.547, 1189.11, 914, 1173.14, 973.547, 1976, -297.891, 1305.14, 387.453, 1142.45, 343.859, 1098.86, 387.453, 372.109, 366, 356.141, 306.453, 149.859, 306.453, 1173.14, 854.453, 1872.86, -476.547, 2035.55, -520.141, 1916.45, -313.859, 1261.55, 343.859, -2627.78, -2470.66, 264.547, -603.859, 1856.89, -417, 1872.86, -357.453, 1202, 327.891, -327.891, -340, -343.859, -399.547, 205, -587.891, 368.859, 782.453, 352.891, 842, -83.8906, 777, -99.8594, 717.453, 1082.89, 447, 356.141, 425.547, 966.859, 854.453, 950.891, 914, 591.109, 842, 575.141, 782.453, 1129.55, 810.859, 133.891, 366, -778.859, 240.547, 308.141, -647.453, 1129.55, 1017.14, -2632.63, 2571.92, 1070, 1033.11, 1010.45, 1017.14, 966.859, 973.547, -343.859, -280.453, 575.141, 901.547, -99.8594, 836.547, 368.859, 901.547, 531.547, 945.141, 472, 961.109, 1098.86, 506.547, 312.547, 469.141, 312.547, 262.859, 149.859, 425.547, -822.453, 284.141, 1070, 794.891, -648.891, -1020, -664.859, -1079.55, 205, -826.109, 1010.45, 810.859, 531.547, 738.859, 145.453, -603.859, 101.859, -647.453, 85.8906, -707, -387.453, -443.141, 412.453, 738.859, -143.453, 673.859, 253, 485.109, -143.453, 880.141, 412.453, 945.141, -203, 896.109, -262.547, 880.141, -306.141, 836.547, -322.109, 777, 101.859, -766.547, -447, -459.109, -708.453, -916.859, -664.859, -960.453, -506.547, -236.859, -822.453, 77.8594, -550.141, -280.453, -882, 61.8906, -566.109, -340, -941.547, 77.8594, 1142.45, 550.141, -306.141, 717.453, -882, 300.109, 264.547, -810.141, 193.453, 469.141, -203, 657.891, -708.453, -1123.14, -768, -1139.11, -827.547, -1123.14, -871.141, -1079.55, -887.109, -1020, -871.141, -960.453, -827.547, -916.859, -768, -900.891, -1001.11, 181, -985.141, 121.453, 1261.55, 550.141, 1202, 566.109, 472, 722.891, -262.547, 673.859, -941.547, 284.141, -985.141, 240.547, -550.141, -399.547, -506.547, -443.141, 145.453, -810.141)
polygons = Array[PackedInt32Array]([PackedInt32Array(0, 1, 2, 3), PackedInt32Array(4, 5, 6), PackedInt32Array(7, 8, 9, 10, 11, 12), PackedInt32Array(13, 14, 15, 16), PackedInt32Array(2, 4, 6), PackedInt32Array(5, 4, 17), PackedInt32Array(18, 2, 6, 19), PackedInt32Array(20, 1, 0, 21), PackedInt32Array(22, 23, 24, 25), PackedInt32Array(10, 9, 26), PackedInt32Array(2, 18, 27), PackedInt32Array(15, 14, 28), PackedInt32Array(5, 17, 29), PackedInt32Array(30, 20, 21, 31), PackedInt32Array(32, 5, 29, 13), PackedInt32Array(33, 34, 35, 31, 36, 37, 38, 39), PackedInt32Array(40, 41, 42, 43), PackedInt32Array(24, 23, 44, 45), PackedInt32Array(46, 47, 48, 49), PackedInt32Array(2, 27, 50), PackedInt32Array(10, 26, 51, 52), PackedInt32Array(15, 28, 34, 53), PackedInt32Array(54, 19, 6), PackedInt32Array(54, 6, 55, 56), PackedInt32Array(57, 56, 55), PackedInt32Array(58, 57, 55), PackedInt32Array(35, 30, 31), PackedInt32Array(37, 36, 22, 59), PackedInt32Array(60, 48, 47), PackedInt32Array(61, 42, 41, 62), PackedInt32Array(63, 47, 58, 55, 64), PackedInt32Array(45, 44, 65, 66), PackedInt32Array(7, 59, 22, 67, 8), PackedInt32Array(52, 51, 68, 69), PackedInt32Array(2, 50, 70, 3), PackedInt32Array(71, 72, 13, 73), PackedInt32Array(74, 46, 49, 75, 66), PackedInt32Array(33, 53, 34), PackedInt32Array(76, 39, 38), PackedInt32Array(77, 76, 38), PackedInt32Array(78, 77, 38, 79), PackedInt32Array(66, 80, 40, 43, 81, 82), PackedInt32Array(83, 61, 62), PackedInt32Array(63, 60, 47), PackedInt32Array(84, 64, 55), PackedInt32Array(83, 62, 84, 55, 85), PackedInt32Array(86, 85, 55), PackedInt32Array(87, 86, 55), PackedInt32Array(88, 87, 55), PackedInt32Array(89, 78, 79, 90, 91, 92), PackedInt32Array(22, 25, 67), PackedInt32Array(93, 12, 11, 94), PackedInt32Array(95, 93, 94, 96), PackedInt32Array(97, 95, 96, 98), PackedInt32Array(66, 65, 99, 70, 74), PackedInt32Array(69, 100, 88, 55, 101), PackedInt32Array(13, 16, 102), PackedInt32Array(69, 68, 103, 81, 104), PackedInt32Array(13, 72, 105), PackedInt32Array(32, 13, 105, 106), PackedInt32Array(32, 106, 107), PackedInt32Array(32, 107, 108), PackedInt32Array(55, 32, 108, 109), PackedInt32Array(55, 109, 110), PackedInt32Array(55, 110, 111), PackedInt32Array(55, 111, 112), PackedInt32Array(113, 55, 112, 91, 114), PackedInt32Array(115, 3, 70), PackedInt32Array(116, 115, 70), PackedInt32Array(99, 116, 70), PackedInt32Array(66, 75, 117), PackedInt32Array(66, 117, 80), PackedInt32Array(103, 82, 81), PackedInt32Array(69, 104, 118), PackedInt32Array(69, 118, 100), PackedInt32Array(119, 101, 55), PackedInt32Array(120, 119, 55), PackedInt32Array(113, 120, 55), PackedInt32Array(97, 98, 114, 91, 121), PackedInt32Array(122, 121, 91), PackedInt32Array(90, 122, 91), PackedInt32Array(89, 92, 71, 123), PackedInt32Array(73, 123, 71), PackedInt32Array(73, 13, 102)])
outlines = Array[PackedVector2Array]([PackedVector2Array(-2706, -2546, -2711, 2650, 2767, 2665, 2666, -2753)])
source_geometry_mode = 1
source_geometry_group_name = &"navigation"
agent_radius = 78.29

[node name="Node2D" type="Node2D"]
position = Vector2(2595, 2509)
script = ExtResource("1_pa1ge")

[node name="TextureRect" type="TextureRect" parent="."]
visible = false
material = SubResource("ShaderMaterial_8cl4m")
offset_left = -2550.0
offset_top = -2488.0
offset_right = 2516.0
offset_bottom = 2500.0
texture = ExtResource("1_afw7h")
metadata/_edit_use_anchors_ = true
metadata/_edit_lock_ = true

[node name="Player" parent="." instance=ExtResource("1_7owxc")]
unique_name_in_owner = true
material = SubResource("ShaderMaterial_hnti7")
position = Vector2(473, 357)

[node name="Camera2D" type="Camera2D" parent="Player"]
light_mask = 2
visibility_layer = 2
position = Vector2(249.5, 28.3081)
scale = Vector2(0.5, 0.570093)
zoom = Vector2(0.8, 0.8)
position_smoothing_enabled = true
position_smoothing_speed = 7.0

[node name="Node2D2" type="Node2D" parent="Player"]
script = ExtResource("6_7bcmx")
NameForAi = "Player"

[node name="Obstacles" type="Node" parent="."]

[node name="GodotLogo" type="Node2D" parent="Obstacles"]
position = Vector2(3095, 2509)
scale = Vector2(0.4, 0.4)
script = ExtResource("6_7bcmx")
NameForAi = "Hut"
DescribtionForAi = "It looks kind of creepy"

[node name="Sprite2D" type="Sprite2D" parent="Obstacles/GodotLogo"]
texture = ExtResource("6_gtht4")

[node name="Interactable" type="Node2D" parent="Obstacles/GodotLogo"]
script = ExtResource("7_ji1nn")

[node name="Removable" type="Node" parent="Obstacles/GodotLogo"]
script = ExtResource("8_l3yld")

[node name="Tree" parent="Obstacles" instance=ExtResource("7_njspg")]
position = Vector2(2131, 1976)

[node name="Tree7" parent="Obstacles" instance=ExtResource("7_njspg")]
position = Vector2(1810, 1296)

[node name="Tree8" parent="Obstacles" instance=ExtResource("7_njspg")]
position = Vector2(2783, 1609)

[node name="Tree2" parent="Obstacles" instance=ExtResource("7_njspg")]
position = Vector2(1696, 2497)

[node name="Tree3" parent="Obstacles" instance=ExtResource("7_njspg")]
position = Vector2(3050, 3158)

[node name="Tree4" parent="Obstacles" instance=ExtResource("7_njspg")]
position = Vector2(2375, 3093)

[node name="Tree5" parent="Obstacles" instance=ExtResource("7_njspg")]
position = Vector2(3780, 2763)

[node name="Tree6" parent="Obstacles" instance=ExtResource("7_njspg")]
position = Vector2(4554, 1899)

[node name="Tree10" parent="Obstacles" instance=ExtResource("9_tf77n")]
position = Vector2(3648, 3230)

[node name="Tree11" parent="Obstacles" instance=ExtResource("9_tf77n")]
position = Vector2(2831, 2682)

[node name="Ally" parent="." node_paths=PackedStringArray("AllwaysVisible") instance=ExtResource("6_l8h37")]
position = Vector2(834, 254)
_visionRadius = 3000
_interactionRadius = 500
AllwaysVisible = [NodePath("../Player")]

[node name="EnemyManager" type="Node2D" parent="."]
script = ExtResource("1_bmkfv")
EnemyScene = ExtResource("10_tv6x7")
_maxEnemies = 0

[node name="Core" type="Node2D" parent="."]
unique_name_in_owner = true
script = ExtResource("11_wagl7")

[node name="CoreLight" parent="Core" instance=ExtResource("3_0raeo")]
unique_name_in_owner = true
visible = false
color = Color(0.767814, 0.714527, 0.618239, 1)
energy = 4.8
shadow_enabled = true
shadow_color = Color(0.0643274, 0.0646954, 0.0657012, 0)
shadow_filter = 2
shadow_filter_smooth = 2.3
texture_scale = 36.64
metadata/_edit_lock_ = true

[node name="CoreInventory" type="Node" parent="Core"]
unique_name_in_owner = true
script = ExtResource("13_fh71d")

[node name="Ally2" parent="." instance=ExtResource("13_668w2")]
visible = false
position = Vector2(602, 378)

[node name="IntroText" type="CanvasLayer" parent="."]
script = ExtResource("14_trtui")

[node name="Panel" type="Panel" parent="IntroText"]
offset_left = 2595.0
offset_top = 2509.0
offset_right = 2635.0
offset_bottom = 2549.0
metadata/_edit_use_anchors_ = true

[node name="Label" type="Label" parent="IntroText/Panel"]
layout_mode = 0
offset_right = 40.0
offset_bottom = 23.0
text = "\"Stay in the light! Say 'Harvest' to tell your ally to get some resources\""
metadata/_edit_use_anchors_ = true

[node name="Close" type="Button" parent="IntroText/Panel"]
process_mode = 2
z_index = 20
layout_mode = 0
offset_right = 8.0
offset_bottom = 8.0
text = "Continue"
metadata/_edit_use_anchors_ = true

[node name="NavigationRegion2D" type="NavigationRegion2D" parent="."]
z_index = 300
navigation_polygon = SubResource("NavigationPolygon_e7gay")
metadata/_edit_lock_ = true

[connection signal="Interact" from="Obstacles/GodotLogo/Interactable" to="Obstacles/GodotLogo/Removable" method="Remove"]
[connection signal="pressed" from="IntroText/Panel/Close" to="IntroText" method="OnClosePressed"]
